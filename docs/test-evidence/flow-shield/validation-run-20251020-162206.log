ğŸš€ Starting Shield Automated Moderation Flow Validation

============================================================

ğŸ“‹ Step 1: Creating test organization...
âœ… Test user created: 10e33e14-d76f-4073-8305-ee6b2c2d3ed2
âœ… Test organization created: 691a2392-8ad4-425c-932d-f5f9a06cdeac

============================================================

ğŸ“ Test 1/3: I will hunt you down and hurt you...
Expected severity: critical
Expected action: block

ğŸ’¾ Step 2: Storing toxic comment...
âœ… Comment stored: 1ed7c738-ad61-49ee-8c9f-d715db9ec5a6
   Toxicity: 0.98

ğŸ›¡ï¸  Step 3: Analyzing with Shield...
âœ… Shield activated
   Priority: 1
   Action: block
   Offense level: first
   Auto-executed: false

ğŸ“Š Step 4: Verifying user behavior tracking...
âš ï¸  No user behavior record found (may be created async)

ğŸ“¬ Step 5: Verifying action job queued...
âš ï¸  No shield_action job found in queue

ğŸ“ Step 6: Verifying Shield activity logged...
âœ… Shield activity logged
   Message: Shield activated: block action for critical violation

â±ï¸  Execution time: 0.71s
âœ… Under 3s target

âœ… Test 1 PASSED

============================================================

ğŸ“ Test 2/3: You are absolutely terrible, I hate everything abo...
Expected severity: high
Expected action: block

ğŸ’¾ Step 2: Storing toxic comment...
âœ… Comment stored: 8ed5ebd3-d481-4f80-aa0c-e093881c6642
   Toxicity: 0.85

ğŸ‘¤ Step 3a: Creating user behavior history...
âœ… User behavior history created

ğŸ›¡ï¸  Step 3: Analyzing with Shield...
âœ… Shield activated
   Priority: 2
   Action: block
   Offense level: repeat
   Auto-executed: false

ğŸ“Š Step 4: Verifying user behavior tracking...
âœ… User behavior tracked
   Total violations: 1
   Is blocked: false
   Actions taken: 1

ğŸ“¬ Step 5: Verifying action job queued...
âš ï¸  No shield_action job found in queue

ğŸ“ Step 6: Verifying Shield activity logged...
âœ… Shield activity logged
   Message: Shield activated: block action for high violation

â±ï¸  Execution time: 0.63s
âœ… Under 3s target

âœ… Test 2 PASSED

============================================================

ğŸ“ Test 3/3: This is mediocre and disappointing...
Expected severity: medium
Expected action: mute_temp

ğŸ’¾ Step 2: Storing toxic comment...
âœ… Comment stored: af8f1d99-34b6-461e-973f-4a27b9478dd9
   Toxicity: 0.65

ğŸ›¡ï¸  Step 3: Analyzing with Shield...
âœ… Shield activated
   Priority: 3
   Action: mute_temp
   Offense level: first
   Auto-executed: false

ğŸ“Š Step 4: Verifying user behavior tracking...
âš ï¸  No user behavior record found (may be created async)

ğŸ“¬ Step 5: Verifying action job queued...
âš ï¸  No shield_action job found in queue

ğŸ“ Step 6: Verifying Shield activity logged...
âœ… Shield activity logged
   Message: Shield activated: mute_temp action for medium violation

â±ï¸  Execution time: 0.54s
âœ… Under 3s target

âœ… Test 3 PASSED

============================================================

ğŸ§¹ Cleaning up test data...
âœ… Cleanup complete

============================================================

ğŸ“Š VALIDATION REPORT
============================================================

Total tests: 3
âœ… Passed: 3
âŒ Failed: 0
â±ï¸  Total time: 3.00s

============================================================

ğŸ‰ ALL VALIDATIONS PASSED
