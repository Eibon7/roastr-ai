      - name: Upload repair artifacts
        if: always()
        uses: actions/upload-artifact@v4
        with:
          name: gdd-repair-results
          path: |
            gdd-repair.json
            repair-summary.md
            gdd-health.json
            gdd-status.json
          retention-days: 30
          if-no-files-found: ignore

      - name: Fail if errors occurred
        if: steps.repair.outputs.errors > 0
        run: |
          echo "❌ Auto-repair completed with errors"
          exit 1
