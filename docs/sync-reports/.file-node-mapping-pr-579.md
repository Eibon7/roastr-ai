# File-Node Mapping - PR #579

**PR:** #579 - feat(gdd): Issue deduplication, rollback handling, and auto-cleanup
**Branch:** feat/gdd-issue-deduplication-cleanup
**Total Files Changed:** 150
**Technical Files:** 10 (code/config)
**Documentation Files:** 140 (docs/plans/evidence)

---

## Technical Files → GDD Nodes Mapping

### observability (5 files)

**CI/CD Workflows:**
1. `.github/workflows/gdd-issue-cleanup.yml`
   - Feature: Auto-cleanup of stale GDD issues
   - Changes: Added pagination, updated_at staleness check, permissions

2. `.github/workflows/gdd-repair.yml`
   - Feature: Auto-repair with rollback detection
   - Changes: Exit code detection instead of grep-based, rollback handling

3. `.github/workflows/gdd-validate.yml`
   - Feature: GDD validation with issue deduplication
   - Changes: GitHub Search API for >100 items, deduplication logic

**GDD Scripts:**
4. `scripts/auto-repair-gdd.js`
   - Feature: Auto-repair GDD violations
   - Changes: Exit code 2 for rollback, improved error handling

5. `scripts/predict-gdd-drift.js`
   - Feature: Drift prediction and reporting
   - Changes: Case-insensitive status handling, parseInt radix fixes

---

### shield (4 files)

**Mock Adapters:**
6. `src/adapters/mock/DiscordShieldAdapter.js`
   - Feature: Discord Shield mock adapter
   - Changes: Configurable failure rates, timeout simulation

7. `src/adapters/mock/TwitchShieldAdapter.js`
   - Feature: Twitch Shield mock adapter
   - Changes: Configurable failure rates, timeout simulation

8. `src/adapters/mock/TwitterShieldAdapter.js`
   - Feature: Twitter Shield mock adapter
   - Changes: Configurable failure rates, timeout simulation

9. `src/adapters/mock/YouTubeShieldAdapter.js`
   - Feature: YouTube Shield mock adapter
   - Changes: Configurable failure rates, timeout simulation

---

### guardian (1 file)

**Worker:**
10. `src/workers/AnalyzeToxicityWorker.js`
    - Feature: Toxicity analysis worker
    - Changes: Minor updates (needs investigation)

---

## Documentation Files (140)

**Categories:**
- `docs/nodes/*.md` (14 files) - GDD node documentation ✅ Already updated
- `docs/plan/*.md` (25+ files) - CodeRabbit review implementation plans
- `docs/test-evidence/*` (90+ files) - Test evidence and validation results
- `docs/analysis/*.md` (2 files) - System analysis reports
- `docs/patterns/*.md` (1 file) - CodeRabbit lessons learned

**Status:** These are supporting documentation files that don't require node synchronization.

---

## Nodes Requiring Synchronization

| Node | Files Changed | Sync Required | Priority |
|------|---------------|---------------|----------|
| **observability** | 5 (3 workflows, 2 scripts) | ✅ YES | HIGH |
| **shield** | 4 (mock adapters) | ✅ YES | MEDIUM |
| **guardian** | 1 (worker) | ⚠️ MAYBE | LOW |

---

## Sync Actions Required

### observability Node Updates

**Sections to Update:**
- **Related PRs:** Add #579
- **Last Updated:** Update to 2025-10-17
- **Version History:** Add v1.1.0 entry for deduplication/rollback features
- **Workflow Reliability Patterns:** Already documented exit code pattern
- **Files Modified:** Update with workflow filenames

**New Features to Document:**
- Issue deduplication in gdd-validate.yml
- Rollback handling with exit code 2
- Auto-cleanup with pagination
- GitHub Search API integration

---

### shield Node Updates

**Sections to Update:**
- **Related PRs:** Add #579
- **Last Updated:** Update to 2025-10-17
- **Platform-Specific Actions:** Already documented mock adapters

**Features to Verify:**
- Mock adapter failure simulation (already in testing section)
- Configurable failure rates

**Status:** Minor update (mock adapters already documented in testing section)

---

### guardian Node Updates

**Sections to Update:**
- **Related PRs:** Verify if #579 includes changes
- **Last Updated:** Update if changes found

**Status:** Needs investigation of AnalyzeToxicityWorker changes

---

## Transitive Dependencies

**No transitive updates required:**
- queue-system (no direct changes)
- multi-tenant (no direct changes)
- cost-control (no direct changes)

---

**Generated:** 2025-10-17T22:15:00Z
**Mapped by:** Orchestrator (doc-sync Phase 1)
