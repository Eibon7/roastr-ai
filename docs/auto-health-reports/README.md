# GDD Auto-Health Reports

**Purpose:** Automated health and drift reports generated by GDD Auto-Monitor (Phase 17.1)

## Overview

This directory contains timestamped reports from the autonomous GDD monitoring system. Reports are generated every 3 days via `.github/workflows/gdd-auto-monitor.yml`.

## Report Types

| File Pattern                   | Format   | Content                                                                    |
| ------------------------------ | -------- | -------------------------------------------------------------------------- |
| `auto-health-{timestamp}.md`   | Markdown | Human-readable summary with health metrics, drift analysis, and action log |
| `auto-health-{timestamp}.json` | JSON     | Detailed health scoring data (from `score-gdd-health.js`)                  |
| `auto-drift-{timestamp}.json`  | JSON     | Drift prediction data (from `predict-gdd-drift.js`)                        |
| `auto-status-{timestamp}.json` | JSON     | Validation status data (from `validate-gdd-runtime.js`)                    |

**Timestamp Format:** `YYYY-MM-DD-HH-MM` (e.g., `2025-11-11-08-00`)

## Retention Policy

**Maximum Reports:** 30 (configurable via `.gddrc.json` â†’ `auto_monitor.max_reports`)

**Retention Period:** ~90 days (30 reports Ã— 3 days/report)

**Cleanup:** Automatic (workflow deletes oldest reports when count exceeds limit)

## Example Report

```markdown
# GDD Auto-Health Report

**Date:** 2025-11-11 08:00 UTC
**Trigger:** Scheduled (Auto-Monitor)

## Summary

- **Health Score:** 98.8/100 ðŸŸ¢
- **Drift Risk:** 15/100 ðŸŸ¢
- **Nodes Validated:** 13/13

## Health Breakdown

- ðŸŸ¢ Healthy nodes: 13
- ðŸŸ¡ Degraded nodes: 0
- ðŸ”´ Critical nodes: 0

## Actions Taken

- âœ… Validation completed
- âœ… No issues created (health above threshold)
```

## Viewing Reports

```bash
# List all reports (newest first)
ls -1t auto-health-*.md

# View latest report
cat $(ls -1t auto-health-*.md | head -1)

# View specific report
cat auto-health-2025-11-11-08-00.md

# View JSON data
jq '.' auto-health-2025-11-11-08-00.json
```

## Workflow Details

**Workflow:** `.github/workflows/gdd-auto-monitor.yml`

**Schedule:** Every 3 days at 8:00 UTC (`0 8 */3 * *`)

**Triggers:**

- Scheduled (cron)
- Manual dispatch via `gh workflow run gdd-auto-monitor.yml`

**Actions:**

1. Run GDD validation scripts
2. Generate timestamped reports
3. Commit reports to main
4. Cleanup old reports (if count > max_reports)
5. Create issues if health < threshold or drift > threshold

**Issue Creation:**

- **Health Issue:** Created when `health_score < min_health_score` (.gddrc.json)
- **Drift Issue:** Created when `drift_risk > max_drift_risk` (.gddrc.json)
- **Duplicate Prevention:** Searches for existing issues before creating

## Configuration

**File:** `.gddrc.json`

```json
{
  "auto_monitor": {
    "enabled": true,
    "schedule": "0 8 */3 * *",
    "max_drift_risk": 60,
    "max_reports": 30
  }
}
```

**Fields:**

- `enabled`: Enable/disable auto-monitoring (default: `true`)
- `schedule`: Cron expression for schedule (default: every 3 days)
- `max_drift_risk`: Threshold for drift issue creation (default: `60`)
- `max_reports`: Maximum reports to retain (default: `30`)

## Related Documentation

- [Phase 17.1 Implementation](../implementation/GDD-PHASE-17.1.md)
- [GDD Workflow](../../.github/workflows/gdd-auto-monitor.yml)
- [GDD Activation Guide](../GDD-ACTIVATION-GUIDE.md)
- [Issue #541](https://github.com/Eibon7/roastr-ai/issues/541)

---

**Maintained by:** GDD Auto-Monitor (Phase 17.1)
**Last Updated:** 2025-11-11
