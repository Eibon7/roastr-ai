# üîí SSOT STRICT GOVERNANCE RULE ‚Äî VERSION DEFINITIVA (v3, Blindada)

**üîê Nivel:** M√ÅXIMA PRIORIDAD

Esta regla se aplica **SIEMPRE**, en todas las PRs, commits, generaci√≥n de c√≥digo, generaci√≥n de docs, refactors, an√°lisis, tests o modificaciones autom√°ticas que realice el agente.

**No puede ignorarse, suavizarse, reinterpretarse, ni aplicarse parcialmente.**

---

## 1. üîí Fuentes Permitidas (y Obligatorias)

El agente **SOLO** puede usar informaci√≥n proveniente de estos archivos exactos:

### 1.1 SSOT v2 (Obligatorio)

- `docs/SSOT/roastr-ssot-v2.md`

‚Üí Esta es la fuente de verdad absoluta. Tiene precedencia sobre TODO lo dem√°s.

### 1.2 Spec v2 (Obligatorio)

- `docs/spec/roastr-spec-v2.md`

‚Üí Su existencia ha sido verificada.

‚Üí Cursor no puede ignorarlo bajo ninguna circunstancia.

‚Üí Si no puede leerlo, debe DETENERSE.

### 1.3 System Map v2 (Obligatorio)

- `docs/system-map-v2.yaml`

### 1.4 Nodos GDD v2 (Solo si Existen)

- `docs/nodes-v2/*.md`

### 1.5 C√≥digo Existente v2

- `/apps/backend-v2/**/*`
- `/apps/frontend-v2/**/*`

(si este √∫ltimo no existe a√∫n, simplemente no se usa; no se infiere nada)

### 1.6 Issue Actual

- El texto EXACTO de la issue activa.

---

## 2. ‚ùå Prohibiciones Absolutas

Estas prohibiciones **no tienen excepciones**.

El agente **NO PUEDE**:

### 2.1 Inventar Informaci√≥n No Documentada

- features,
- flags,
- endpoints,
- workers,
- modelos de datos,
- colas,
- tablas,
- estados,
- prompts,
- tonos,
- constraints,
- flujos,
- capacidades del sistema,
- configuraciones.

### 2.2 Extender Comportamientos Existentes

NO puede "rellenar huecos" con l√≥gica inventada.

### 2.3 Crear Nada Nuevo Sin Documentaci√≥n Previa

Si NO est√° en SSOT, Spec o nodos:

‚Üí NO se puede crear.

### 2.4 Usar Informaci√≥n Legacy v1

Queda prohibido totalmente.

---

## 3. üîç Comprobaciones Obligatorias Antes de Completar Cualquier PR

El agente **DEBE** validar:

### 3.1 Trabajo Realizado vs Scope de la Issue

- Si falta algo ‚Üí completarlo.
- Si sobra algo ‚Üí eliminarlo o moverlo a nueva issue.

### 3.2 Trabajo Realizado vs Nodos GDD v2

- Cualquier contradicci√≥n ‚Üí detenerse y corregir.
- Si falta definici√≥n ‚Üí marcar TBD (NO inventar).

### 3.3 Trabajo Realizado vs SSOT v2 (M√°xima Prioridad)

- Si hay contradicci√≥n ‚Üí se corrige lo que hizo el agente.
- Si algo no est√° definido ‚Üí marcar TBD.

### 3.4 Trabajo Realizado vs Spec v2 (Segunda Prioridad)

- No se puede contradecir el Spec.
- No se pueden rellenar huecos inventando.

---

## 4. üö´ Regla de Propuesta Controlada (Anti-Invenci√≥n)

Si el agente detecta que est√° a punto de introducir algo que **NO existe** en SSOT/Spec/GDD:

Debe detenerse inmediatamente y emitir:

```
‚ö†Ô∏è Proposed Extension Detected

Reason: {explicaci√≥n exacta}

Action Required:
- Confirmar si debe crearse una nueva issue, o
- Descartar la propuesta.
```

**NO puede continuar sin aprobaci√≥n expl√≠cita del usuario.**

---

## 5. üìã Post-PR Audit Checklist (Obligatorio)

Antes de finalizar una PR, el agente debe verificar:

- [ ] Cumple 100% los Nodos GDD v2
- [ ] Cumple 100% el SSOT v2
- [ ] No contradice Spec v2
- [ ] No usa hardcoded donde SSOT define valores
- [ ] No introduce l√≥gica nueva no documentada
- [ ] No a√±ade flags/features/endpoints nuevos
- [ ] Todas las conexiones system-map ‚Üê‚Üí c√≥digo siguen siendo v√°lidas
- [ ] No reintroduce legacy v1
- [ ] No a√±adi√≥ nada no solicitado en la issue

**Si alguno falla ‚Üí la PR NO se completa.**

---

## 6. ‚ùå Failure Mode Obligatorio

Si se detecta alguna violaci√≥n SSOT:

El agente debe detenerse inmediatamente y emitir:

```
‚ùå SSOT violation: this change introduces behavior not defined in SSOT v2 or Spec v2.
```

Y **NO continuar**.

---

## 7. üß≠ Jerarqu√≠a de Precedencia

El agente siempre debe priorizar:

1. **SSOT v2**
2. **Spec v2**
3. **System Map v2**
4. **Nodos GDD v2**
5. **C√≥digo v2**
6. **Issue actual**

‚ùå No puede invertir el orden.

‚ùå No puede "inferir" significado de la issue.

‚ùå No puede saltarse una capa si falta informaci√≥n.

---

## 8. üß® Regla Anti-Heur√≠sticas

El agente tiene prohibido:

- Suponer informaci√≥n impl√≠cita
- Rellenar huecos "l√≥gicos"
- Usar palabras clave para intuir comportamientos
- Aplicar patrones aprendidos de otros proyectos
- Optimizar o reestructurar el c√≥digo si no est√° documentado en SSOT/Spec

---

## 9. üîè Instalaci√≥n

**Versi√≥n:** 3.0 (Definitiva - Blindada)  
**Fecha:** 2025-12-05  
**Estado:** ‚úÖ Activo (M√°xima Prioridad)  
**Aplicaci√≥n:** Global (PRs, commits, refactors, generaci√≥n de c√≥digo, documentaci√≥n, an√°lisis)

---

**√öltima actualizaci√≥n:** 2025-12-05  
**Versi√≥n:** 3.0 (Definitiva - Blindada)  
**Estado:** ‚úÖ Activo (M√°xima Prioridad - Constituci√≥n del Proyecto)
